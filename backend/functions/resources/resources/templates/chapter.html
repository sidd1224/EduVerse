<!DOCTYPE html>
<html>
<head>
  <title>{{ cls }} - {{ subject }} - {{ chapter }}</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <link rel="manifest" href="{{ url_for('static', filename='manifest.json') }}">
<meta name="theme-color" content="#0d6efd">

<script>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("{{ url_for('static', filename='service-worker.js') }}")
      .then(() => console.log("✅ Service Worker Registered"))
      .catch(err => console.log("❌ Service Worker Failed:", err));
  }
</script>

</head>
<body class="p-4 bg-light">
  <div class="container">
    <h2 class="mb-4">{{ cls }} - {{ subject }} - {{ chapter }}</h2>
    <a href="{{ url_for('notes_page', cls=cls, subject=subject) }}" class="btn btn-secondary mb-3">⬅ Back</a>

    {% if files %}
      <ul class="list-group">
        {% for file in files %}
          <li class="list-group-item d-flex justify-content-between align-items-center">
            {{ file }}
            <a href="{{ url_for('view_file', cls=cls, subject=subject, chapter=chapter, filename=file) }}" class="btn btn-sm btn-primary">View</a>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="text-muted">No notes uploaded yet.</p>
    {% endif %}
  </div>
</body>
</html>
